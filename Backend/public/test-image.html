<!DOCTYPE html>
<html>
<head>
    <title>测试图片显示</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            max-width: 800px;
            margin: 0 auto;
        }
        h1 {
            color: #333;
        }
        .test-section {
            margin: 20px 0;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
        }
        img {
            max-width: 100%;
            border: 2px solid #ddd;
            border-radius: 4px;
            margin: 10px 0;
        }
        .success {
            color: green;
        }
        .error {
            color: red;
        }
    </style>
</head>
<body>
    <h1>图片上传测试页面</h1>
    
    <div class="test-section">
        <h2>测试1: 直接访问图片路径</h2>
        <p>图片URL: <code>/uploads/images/ed3e8a84-bacf-4cac-a8f7-8753c98abcc7.png</code></p>
        <img src="/uploads/images/ed3e8a84-bacf-4cac-a8f7-8753c98abcc7.png" alt="测试图片" 
             onload="document.getElementById('test1').className='success'; document.getElementById('test1').textContent='✓ 图片加载成功!'"
             onerror="document.getElementById('test1').className='error'; document.getElementById('test1').textContent='✗ 图片加载失败'">
        <p id="test1">加载中...</p>
    </div>

    <div class="test-section">
        <h2>测试2: Markdown 格式</h2>
        <p>Markdown: <code>![屏幕截图](/uploads/images/ed3e8a84-bacf-4cac-a8f7-8753c98abcc7.png)</code></p>
        <div id="markdown-content"></div>
        <p id="test2">加载中...</p>
    </div>

    <script>
        // 模拟 Markdown 转换
        const markdownContent = '![屏幕截图](/uploads/images/ed3e8a84-bacf-4cac-a8f7-8753c98abcc7.png)';
        const htmlContent = markdownContent.replace(
            /!\[([^\]]*)\]\(([^)]+)\)/g,
            '<img src="$2" alt="$1" onload="document.getElementById(\'test2\').className=\'success\'; document.getElementById(\'test2\').textContent=\'✓ Markdown 图片加载成功!\'" onerror="document.getElementById(\'test2\').className=\'error\'; document.getElementById(\'test2\').textContent=\'✗ Markdown 图片加载失败\'">'
        );
        document.getElementById('markdown-content').innerHTML = htmlContent;
    </script>
</body>
</html>
